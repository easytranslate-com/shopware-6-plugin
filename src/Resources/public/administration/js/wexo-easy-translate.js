!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/wexoeasytranslate/",n(n.s="kZww")}({SaEC:function(e){e.exports=JSON.parse('{"easytranslate-api-test-button":{"title":"API Test","success":"Oprettelse af forbindelse testet med success","error":"Forbindelse kunne ikke oprettes. Tjek konfigurationsdata"},"easytranslate-project":{"workflow":{"translation":"Oversættelse","selfAndMachineTranslation":"Oversæt selv + maskinoversættelse","translationAndReview":"Oversæt + gennemgå"},"menu":{"title":"EasyTranslate Connect","descriptionTextModule":"EasyTranslate Connect beskrivelse"},"list":{"columnName":"Navn","columnTranslationPrice":"Oversættelsespris (EUR)","columnSourceLanguage":"Kildesprog","columnTargetLanguages":"Målsprog","columnStatus":"Status","textProject":"EasyTranslate Projekter","buttonAddProject":"Opret projekt"},"detail":{"notification":{"noCategoriesAndProductsSaveError":"Kan ikke oprette projekt uden kategorier eller produkter","saveError":"Fejl opstod under oprettelse af projekt","noContentError":"Fandt ikke noget indhold på det valgte sprog for de valgte kategorier og produkter. Tjek at hverken navn, beskrivelse eller layout er tomt eller arver fra et andet sprog","sendProjectError":"Fejl opstod, da projektet blev sendt til EasyTranslate","sendProjectSuccess":"Projekt blev sendt til EasyTranslate","sendPriceError":"Fejl opstod, da prissvaret blev sendt til EasyTranslate","sendPriceSuccess":"Prissvar blev sendt til EasyTranslate"},"actions":{"decline":"Afvis pris","accept":"Accepter pris","send":"Send projekt til EasyTranslate"},"header":{"titleEdit":"Opret nyt EasyTranslate projekt"},"base":{"general":{"cardTitle":"Generel information","statusLabel":"Projekt status","translationPriceLabel":"Oversættelsespris (EUR)","nameLabel":"Projekt navn","workflowLabel":"Oversættelsestype","workflowPlaceholder":"Vælg oversættelsestype","sourceLanguageLabel":"Kildesprog for oversættelse","targetLanguagesLabel":"Målsprog for oversættelse"},"categories":{"helpText":"Bemærk: Kun kategorier der ikke allerede er EasyTranslated til de valgte målsprog vil blive vist som resultater","cardTitle":"Kategorivalg","columnName":"Kategorinavn","columnType":"Kategoritype","columnTargetLanguages":"Allerede EasyTranslated i","categoryAssignmentLabel":"Kategorier","categoryPlaceholderLabel":"Søg og vælg kategorier"},"products":{"helpText":"Bemærk: Kun produkter der findes på det valgte kildesprog og ikke allerede er EasyTranslated til de valgte målsprog vil blive vist som resultater","cardTitle":"Produktvalg","columnName":"Produktnavn","columnProductNumber":"Produktnummer","columnPrice":"Produktpris","columnTargetLanguages":"Allerede EasyTranslated i","productAssignmentLabel":"Produkter","productPlaceholderLabel":"Søg og vælg produkter"}}}}}')},TgdG:function(e){e.exports=JSON.parse('{"easytranslate-api-test-button":{"title":"API Test","success":"Connection tested with success","error":"Connection could not be established. Please check the credentials"},"easytranslate-project":{"workflow":{"translation":"Translation","selfAndMachineTranslation":"Translate Yourself + Machine Translation","translationAndReview":"Translation + Review"},"menu":{"title":"EasyTranslate Connect","descriptionTextModule":"EasyTranslate Connect description"},"list":{"columnName":"Name","columnTranslationPrice":"Translation Price (EUR)","columnSourceLanguage":"Source Language","columnTargetLanguages":"Target Languages","columnStatus":"Status","textProject":"EasyTranslate Projects","buttonAddProject":"Create project"},"detail":{"notification":{"noCategoriesAndProductsSaveError":"Can\'t save project with no categories or products","saveError":"Error occurred when saving project","noContentError":"No content was found in the selected source language for the picked categories and products. Please ensure that neither name, description or layout is empty, or inheriting from another language","sendProjectError":"Error occurred when sending project to EasyTranslate","sendProjectSuccess":"Successfully sent project to EasyTranslate","sendPriceError":"Error occurred when sending price response to EasyTranslate","sendPriceSuccess":"Successfully sent price response to EasyTranslate"},"actions":{"decline":"Decline price","accept":"Accept price","send":"Send project to EasyTranslate"},"header":{"titleEdit":"Create new EasyTranslate project"},"base":{"general":{"cardTitle":"General information","statusLabel":"Project status","translationPriceLabel":"Translation price (EUR)","nameLabel":"Project name","workflowLabel":"Workflow type","workflowPlaceholder":"Choose a workflow type","sourceLanguageLabel":"Source language for translation","targetLanguagesLabel":"Target languages for translation"},"categories":{"helpText":"Notice: Only categories not already EasyTranslated to the chosen target languages will be shown as results","cardTitle":"Category assignment","columnName":"Category name","columnType":"Category type","columnTargetLanguages":"Already EasyTranslated in","categoryAssignmentLabel":"Categories","categoryPlaceholderLabel":"Search and assign categories"},"products":{"helpText":"Notice: Only products using the chosen source language and not already EasyTranslated to the chosen target languages will be shown as results","cardTitle":"Product assignment","columnName":"Product name","columnProductNumber":"Product number","columnPrice":"Product price","columnTargetLanguages":"Already EasyTranslated in","productAssignmentLabel":"Products","productPlaceholderLabel":"Search and assign products"}}}}}')},kZww:function(e,t,n){"use strict";n.r(t);var a=Shopware,r=a.Component,s=a.Mixin;r.register("easytranslate-api-test-button",{template:'<div>\n    <sw-button-process\n        :isLoading="isLoading"\n        :processSuccess="isSaveSuccessful"\n        variant="primary"\n        @process-finish="saveFinish"\n        @click="testApi"\n    >\n        {{ btnLabel }}\n    </sw-button-process>\n</div>\n',props:["btnLabel"],inject:["easyTranslateApiService"],mixins:[s.getByName("notification")],data:function(){return{isLoading:!1,isSaveSuccessful:!1}},computed:{pluginConfig:function(){var e=null,t=this;do{e=(t=t.$parent).actualConfigData}while(!e);return e[t.currentSalesChannelId]}},methods:{saveFinish:function(){this.isSaveSuccessful=!1},testApi:function(){var e=this;this.isLoading=!0,this.easyTranslateApiService.testConfig(this.pluginConfig).then((function(t){t.isValid?(e.isSaveSuccessful=!0,e.createNotificationSuccess({title:e.$tc("easytranslate-api-test-button.title"),message:e.$tc("easytranslate-api-test-button.success")})):e.createNotificationError({title:e.$tc("easytranslate-api-test-button.title"),message:e.$tc("easytranslate-api-test-button.error")}),setTimeout((function(){e.isLoading=!1}),2500)})).catch((function(){e.createNotificationError({title:e.$tc("easytranslate-api-test-button.title"),message:e.$tc("easytranslate-api-test-button.error")})})).finally((function(){e.isLoading=!1}))}}});n("xvDb");var o=Shopware,i=o.Component,c=o.Mixin,l=o.Context,u=Shopware.Data.Criteria;i.register("easytranslate-project-list",{template:'{% block easytranslate_project_list %}\n    <sw-page class="easytranslate-project-list">\n        {% block easytranslate_project_list_smart_bar_heaer %}\n            <template slot="smart-bar-header">\n                {% block easytranslate_project_list_smart_bar_header_title %}\n                    <h2>\n                        {% block easytranslate_project_list_smart_bar_header_title_text %}\n                            {{ $tc(\'easytranslate-project.list.textProject\') }}\n                        {% endblock %}\n\n                        {% block easytranslate_project_list_smart_bar_header_title_amount %}\n                            <span v-if="!isLoading" class="sw-page__smart-bar-amount">\n                                ({{ total }})\n                            </span>\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block easytranslate_project_list_actions %}\n            <template slot="smart-bar-actions">\n                {% block easytranslate_project_list_actions_add_button %}\n                    <sw-button :routerLink="{ name: \'easytranslate.project.create\' }" variant="primary">\n                        {{ $tc(\'easytranslate-project.list.buttonAddProject\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block easytranslate_project_list_content %}\n            <template slot="content">\n                <div class="easytranslate-project-list__content">\n                    {% block easytranslate_project_list_content_grid %}\n                        <sw-entity-listing\n                            ref="easyTranslateProjectList"\n                            identifier="easytranslate-project-list"\n                            :items="projects"\n                            :columns="projectColumns"\n                            :repository="projectRepository"\n                            :sortBy="sortBy"\n                            :sortDirection="sortDirection"\n                            :isLoading="isLoading"\n                        >\n                            {% block easytranslate_project_list_content_grid_source_language %}\n                                <template #column-sourceLanguage.name="{ item }">\n                                    <sw-label appearance="pill">\n                                        {{ item.sourceLanguage.name }}\n                                    </sw-label>\n                                </template>\n                            {% endblock %}\n\n                            {% block easytranslate_project_list_content_grid_target_languages %}\n                                <template #column-targetLanguages="{ item }">\n                                    <sw-label\n                                        v-for="language in item.targetLanguages"\n                                        appearance="pill"\n                                    >\n                                        {{ language.name }}\n                                    </sw-label>\n                                </template>\n                            {% endblock %}\n                        </sw-entity-listing>\n                    {% endblock %}\n                </div>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:["notification",c.getByName("listing")],data:function(){return{isLoading:!1,total:0,projects:null,sortBy:"name",sortDirection:"ASC"}},computed:{projectRepository:function(){return this.repositoryFactory.create("easytranslate_project")},projectCriteria:function(){var e=new u(this.page,this.limit);return e.addAssociation("sourceLanguage").addAssociation("targetLanguages"),e},projectColumns:function(){return[{property:"name",label:this.$tc("easytranslate-project.list.columnName"),routerLink:"easytranslate.project.detail",allowResize:!0,primary:!0},{property:"translationPrice",label:this.$tc("easytranslate-project.list.columnTranslationPrice"),allowResize:!0},{property:"sourceLanguage.name",label:this.$tc("easytranslate-project.list.columnSourceLanguage"),allowResize:!0},{property:"targetLanguages",label:this.$tc("easytranslate-project.list.columnTargetLanguages"),allowResize:!0,sortable:!1},{property:"status",label:this.$tc("easytranslate-project.list.columnStatus"),allowResize:!0}]}},methods:{getList:function(){var e=this;return this.isLoading=!0,this.projectRepository.search(this.projectCriteria,l.api).then((function(t){return e.total=t.total,e.projects=t,t})).catch((function(t){e.createNotificationError(t)})).finally((function(){e.isLoading=!1}))}}});function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Shopware,h=y.Component,f=y.Context,b=Shopware.Component.getComponentHelper().mapPropertyErrors,m=Shopware.Data.Criteria,j=Shopware.Classes.ShopwareError;h.register("easytranslate-project-detail",{template:'{% block easytranslate_project_detail %}\n    <sw-page class="easytranslate-project-detail">\n\n        {% block easytranslate_project_detail_header %}\n            <template slot="smart-bar-header">\n                {% block easytranslate_project_detail_header_text %}\n                    <h2>{{ placeholder(project, \'name\', $tc(\'easytranslate-project.detail.header.titleEdit\')) }}</h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block easytranslate_project_detail_actions %}\n            <template slot="smart-bar-actions">\n\n                {% block easytranslate_project_detail_actions_abort %}\n                    <sw-button\n                        v-tooltip.bottom="tooltipCancel"\n                        class="easytranslate-project-detail__cancel-action"\n                        :disabled="project !== null && project.isLoading"\n                        @click="onCancel"\n                    >\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block easytranslate_project_detail_actions_decline %}\n                    <sw-button-process\n                        v-if="!isLoading && !project.isNew() && showPriceActions"\n                        v-model="isSendPriceSuccessful"\n                        class="easytranslate-project-detail__send-action"\n                        variant="primary"\n                        :is-loading="isLoading"\n                        :disabled="isLoading"\n                        :process-success="isSendPriceSuccessful"\n                        @process-finish="sendPriceFinish"\n                        @click.prevent="onDeclinePrice"\n                    >\n                        {{ $tc(\'easytranslate-project.detail.actions.decline\') }}\n                    </sw-button-process>\n                {% endblock %}\n\n                {% block easytranslate_project_detail_actions_accept %}\n                    <sw-button-process\n                        v-if="!isLoading && !project.isNew() && showPriceActions"\n                        v-model="isSendPriceSuccessful"\n                        class="easytranslate-project-detail__send-action"\n                        variant="primary"\n                        :is-loading="isLoading"\n                        :disabled="isLoading"\n                        :process-success="isSendPriceSuccessful"\n                        @process-finish="sendPriceFinish"\n                        @click.prevent="onAcceptPrice"\n                    >\n                        {{ $tc(\'easytranslate-project.detail.actions.accept\') }}\n                    </sw-button-process>\n                {% endblock %}\n\n                {% block easytranslate_project_detail_actions_send %}\n                    <sw-button-process\n                        v-if="!isLoading && !project.isNew() && showSendAction"\n                        v-model="isSendSuccessful"\n                        class="easytranslate-project-detail__send-action"\n                        variant="primary"\n                        :is-loading="isLoading"\n                        :disabled="isLoading"\n                        :process-success="isSendSuccessful"\n                        @process-finish="sendFinish"\n                        @click.prevent="onSend"\n                    >\n                        {{ $tc(\'easytranslate-project.detail.actions.send\') }}\n                    </sw-button-process>\n                {% endblock %}\n\n                {% block easytranslate_project_detail_actions_save %}\n                    <sw-button-process\n                        v-if="!isLoading && project.isNew()"\n                        v-model="isSaveSuccessful"\n                        v-tooltip.bottom="tooltipSave"\n                        class="easytranslate-project-detail__save-action"\n                        variant="primary"\n                        :is-loading="isLoading"\n                        :disabled="isLoading || !project.isNew()"\n                        :process-success="isSaveSuccessful"\n                        @process-finish="saveFinish"\n                        @click.prevent="onSave"\n                    >\n                        {{ $tc(\'global.default.save\') }}\n                    </sw-button-process>\n                {% endblock %}\n\n            </template>\n        {% endblock %}\n\n        {% block easytranslate_project_detail_content %}\n            <template slot="content">\n                <sw-card-view v-if="project" :is-loading="isLoading">\n                    {% block easytranslate_project_detail_content_view %}\n                        {% block easytranslate_project_detail_content_view_base %}\n                            <div class="easytranslate-project-detail-base">\n\n                                {% block easytranslate_project_detail_content_view_base_general_card %}\n                                    <sw-card\n                                        class="easytranslate-project-detail-base__card-general"\n                                        :title="$tc(\'easytranslate-project.detail.base.general.cardTitle\')"\n                                        :is-loading="isLoading"\n                                    >\n                                        {% block easytranslate_project_detail_content_view_base_general_status %}\n                                            <sw-text-field\n                                                v-if="!project.isNew()"\n                                                v-model="project.status"\n                                                class="easytranslate-project-detail-base__field-status"\n                                                :label="$tc(\'easytranslate-project.detail.base.general.statusLabel\')"\n                                                :disabled="!project.isNew()"\n                                            />\n                                        {% endblock %}\n\n                                        {% block easytranslate_project_detail_content_view_base_general_translation_price %}\n                                            <sw-text-field\n                                                v-if="!project.isNew() && project.translationPrice"\n                                                v-model="project.translationPrice"\n                                                class="easytranslate-project-detail-base__field-status"\n                                                :label="$tc(\'easytranslate-project.detail.base.general.translationPriceLabel\')"\n                                                :disabled="!project.isNew()"\n                                            />\n                                        {% endblock %}\n\n                                        {% block easytranslate_project_detail_content_view_base_general_name %}\n                                            <sw-text-field\n                                                v-model="project.name"\n                                                class="easytranslate-project-detail-base__field-name"\n                                                required\n                                                :label="$tc(\'easytranslate-project.detail.base.general.nameLabel\')"\n                                                :disabled="!project.isNew()"\n                                                :error="projectNameError ?? nameError"\n                                            />\n                                        {% endblock %}\n\n                                        {% block easytranslate_project_detail_content_view_base_general_workflow %}\n                                            <sw-select-field\n                                                v-model="project.workflow"\n                                                required\n                                                :label="$tc(\'easytranslate-project.detail.base.general.workflowLabel\')"\n                                                :placeholder="$tc(\'easytranslate-project.detail.base.general.workflowPlaceholder\')"\n                                                :disabled="!project.isNew()"\n                                                :error="projectWorkflowError ?? workflowError"\n                                            >\n                                                <template v-if="workflowOptions && workflowOptions.length">\n                                                    <option\n                                                        v-for="option in workflowOptions"\n                                                        :key="option.id"\n                                                        :value="option.id"\n                                                        :disabled="!project.isNew() || option.disabled"\n                                                        :selected="option.id == project.workflow"\n                                                    >\n                                                        {{ option.name }}\n                                                    </option>\n                                                </template>\n                                            </sw-select-field>\n                                        {% endblock %}\n\n                                        {% block easytranslate_project_detail_content_view_base_general_source_language %}\n                                            <sw-entity-single-select\n                                                v-model="project.sourceLanguageId"\n                                                class="easytranslate-project-detail__select-source-language"\n                                                required\n                                                show-clearable-button\n                                                :label="$tc(\'easytranslate-project.detail.base.general.sourceLanguageLabel\')"\n                                                entity="language"\n                                                :disabled="!project.isNew()"\n                                                :error="sourceLanguageError"\n                                            />\n                                        {% endblock %}\n\n                                        {% block easytranslate_project_detail_content_view_base_general_target_languages %}\n                                            <sw-entity-multi-select\n                                                v-model="project.targetLanguages"\n                                                class="easytranslate-project-detail__select-target-languages"\n                                                required\n                                                :label="$tc(\'easytranslate-project.detail.base.general.targetLanguagesLabel\')"\n                                                entity="language"\n                                                :entity-collection="project.targetLanguages"\n                                                :criteria="targetLanguagesCriteria"\n                                                :disabled="!project.isNew() || !project.sourceLanguageId"\n                                                :error="targetLanguagesError"\n                                            />\n                                        {% endblock %}\n                                    </sw-card>\n                                {% endblock %}\n\n                                {% block easytranslate_project_detail_content_view_base_categories_card %}\n                                    <sw-many-to-many-assignment-card\n                                        v-if="project.isNew() || project.categories.length > 0"\n                                        class="easytranslate-project-detail-base__card-categories"\n                                        :title="$tc(\'easytranslate-project.detail.base.categories.cardTitle\')"\n                                        :entity-collection="project.categories"\n                                        :criteria="categoryCriteria"\n                                        :columns="categoryColumns"\n                                        :is-loading="isLoading"\n                                        :disabled="!project.isNew() || !project.sourceLanguageId || project.targetLanguages.length == 0"\n                                        :local-mode="project.isNew()"\n                                        :select-label="$tc(\'easytranslate-project.detail.base.categories.categoryAssignmentLabel\')"\n                                        :placeholder="$tc(\'easytranslate-project.detail.base.categories.categoryPlaceholderLabel\')"\n                                        :helpText="$tc(\'easytranslate-project.detail.base.categories.helpText\')"\n                                    >\n                                        {% block easytranslate_project_detail_content_view_base_categories_card_list_target_languages %}\n                                            <template #column-easyTranslateProjects.targetLanguages="{ item }">\n                                                <template\n                                                    v-if="item.extensions.easyTranslateProjects"\n                                                    v-for="project in item.extensions.easyTranslateProjects"\n                                                >\n                                                    <sw-label\n                                                        v-for="language in project.targetLanguages"\n                                                        appearance="pill"\n                                                    >\n                                                        {{ language.name }}\n                                                    </sw-label>\n                                                </template>\n                                            </template>\n                                        {% endblock %}\n                                    </sw-many-to-many-assignment-card>\n                                {% endblock %}\n\n                                {% block easytranslate_project_detail_content_view_base_products_card %}\n                                    <sw-many-to-many-assignment-card\n                                        v-if="project.isNew() || project.products.length > 0"\n                                        class="easytranslate-project-detail-base__card-products"\n                                        :title="$tc(\'easytranslate-project.detail.base.products.cardTitle\')"\n                                        :entity-collection="project.products"\n                                        :criteria="productCriteria"\n                                        :columns="productColumns"\n                                        :is-loading="isLoading"\n                                        :disabled="!project.isNew() || !project.sourceLanguageId || project.targetLanguages.length == 0"\n                                        :local-mode="project.isNew()"\n                                        :select-label="$tc(\'easytranslate-project.detail.base.products.productAssignmentLabel\')"\n                                        :placeholder="$tc(\'easytranslate-project.detail.base.products.productPlaceholderLabel\')"\n                                        :helpText="$tc(\'easytranslate-project.detail.base.products.helpText\')"\n                                    >\n                                        {% block easytranslate_project_detail_content_view_base_products_card_list_target_languages %}\n                                            <template #column-easyTranslateProjects.targetLanguages="{ item }">\n                                                <template\n                                                    v-if="item.extensions.easyTranslateProjects"\n                                                    v-for="project in item.extensions.easyTranslateProjects"\n                                                >\n                                                    <sw-label\n                                                        v-for="language in project.targetLanguages"\n                                                        appearance="pill"\n                                                    >\n                                                        {{ language.name }}\n                                                    </sw-label>\n                                                </template>\n                                            </template>\n                                        {% endblock %}\n                                    </sw-many-to-many-assignment-card>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n\n                    {% endblock %}\n                </sw-card-view>\n            </template>\n        {% endblock %}\n\n    </sw-page>\n{% endblock %}\n',inject:["easyTranslateApiService","repositoryFactory","acl"],mixins:["notification","placeholder"],shortcuts:{"SYSTEMKEY+S":{active:function(){return this.acl.can("project.editor")},method:"onSave"},ESCAPE:"onCancel"},props:{projectId:{type:String,required:!1,default:function(){return null}}},data:function(){return{isLoading:!1,project:null,workflowOptions:[],nameIsEmpty:!1,workflowIsEmpty:!1,sourceLanguageIsEmpty:!1,targetLanguagesIsEmpty:!1,isSaveSuccessful:!1,isSendSuccessful:!1,isSendPriceSuccessful:!1}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:p(p({},b("project",["name","workflow"])),{},{nameError:function(){return this.nameIsEmpty?new j({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"}):null},workflowError:function(){return this.workflowIsEmpty?new j({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"}):null},sourceLanguageError:function(){return this.sourceLanguageIsEmpty?new j({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"}):null},targetLanguagesError:function(){return this.targetLanguagesIsEmpty?new j({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"}):null},identifier:function(){return this.placeholder(this.project,"name")},isCreateMode:function(){return"easytranslate.project.create.base"===this.$route.name},projectRepository:function(){return this.repositoryFactory.create("easytranslate_project")},projectCriteria:function(){var e=new m(1,1);return e.addAssociation("sourceLanguage").addAssociation("categories").addAssociation("products").addAssociation("targetLanguages"),e},targetLanguagesCriteria:function(){var e=new m;return e.addFilter(m.not("AND",[m.equals("id",this.project.sourceLanguageId)])),e},categoryCriteria:function(){var e=new m;return e.addAssociation("easyTranslateProjects.targetLanguages"),this.projectId||(e.addAssociation("translations").addFilter(m.equals("translations.languageId",this.project.sourceLanguageId)),e.addFilter(m.not("AND",[m.equalsAny("easyTranslateProjects.targetLanguages.id",this.project.targetLanguages.getIds())]))),e},productCriteria:function(){var e=new m;return this.projectId,e},categoryColumns:function(){return[{property:"name",label:this.$tc("easytranslate-project.detail.base.categories.columnName"),routerLink:"sw.category.detail"},{property:"type",label:this.$tc("easytranslate-project.detail.base.categories.columnType")},{property:"easyTranslateProjects.targetLanguages",label:this.$tc("easytranslate-project.detail.base.categories.columnTargetLanguages"),sortable:!1}]},productColumns:function(){return[{property:"name",label:this.$tc("easytranslate-project.detail.base.products.columnName"),routerLink:"sw.product.detail"},{property:"productNumber",label:this.$tc("easytranslate-project.detail.base.products.columnProductNumber")},{property:"easyTranslateProjects.targetLanguages",label:this.$tc("easytranslate-project.detail.base.products.columnTargetLanguages"),sortable:!1}]},showPriceActions:function(){if(this.project)return"APPROVAL_NEEDED"===this.project.status},showSendAction:function(){if(this.project)return"INIT"===this.project.status},tooltipSave:function(){if(!this.acl.can("project.editor"))return{message:this.$tc("sw-privileges.tooltip.warning"),disabled:this.acl.can("category.editor"),showOnDisabledElements:!0};var e=this.$device.getSystemKey();return{message:"".concat(e," + S"),appearance:"light"}},tooltipCancel:function(){return{message:"ESC",appearance:"light"}}}),watch:{projectId:function(){this.createdComponent()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;this.isLoading=!0,this.projectId?this.loadEntityData():(this.project=this.projectRepository.create(),this.project.status="INIT",this.isLoading=!1),this.easyTranslateApiService.getWorkflowOptions().then((function(t){e.workflowOptions=t})).catch((function(t){e.createNotificationsError(t)}))},loadEntityData:function(){var e=this;return this.projectRepository.get(this.projectId,f.api,this.projectCriteria).then((function(t){null!==t&&(e.project=t)})).catch((function(t){e.createNotificationError(t)})).finally((function(){e.isLoading=!1}))},onSend:function(){var e=this;this.projectId&&(this.isLoading=!0,this.easyTranslateApiService.sendProject({projectId:this.projectId}).then((function(){e.createNotificationSuccess({message:e.$tc("easytranslate-project.detail.notification.sendProjectSuccess")}),e.$router.push({name:"easytranslate.project.index"})})).catch((function(t){var n,a,r=e.$tc("easytranslate-project.detail.notification.sendProjectError");null!==(n=t.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.includes("No content")&&(r=e.$tc("easytranslate-project.detail.notification.noContentError")),e.createNotificationError({message:r}),e.isLoading=!1})))},sendFinish:function(){this.isSendSuccessful=!1},onDeclinePrice:function(){this.onSendPrice("DECLINED")},onAcceptPrice:function(){this.onSendPrice("APPROVED")},onSendPrice:function(e){var t=this;this.projectId&&(this.isLoading=!0,this.easyTranslateApiService.handlePrice({projectId:this.projectId,action:e}).then((function(){t.createNotificationSuccess({message:t.$tc("easytranslate-project.detail.notification.sendPriceSuccess")}),t.$router.push({name:"easytranslate.project.index"})})).catch((function(){t.createNotificationError({message:t.$tc("easytranslate-project.detail.notification.sendPriceError")}),t.isLoading=!1})))},sendPriceFinish:function(){this.isSendPriceSuccessful=!1},onSave:function(){if(!this.projectId){if(this.sourceLanguageIsEmpty=!this.project.sourceLanguageId,this.targetLanguagesIsEmpty=!this.project.targetLanguages||0===this.project.targetLanguages.length,this.nameIsEmpty=!this.project.name||0===this.project.name.length,this.workflowIsEmpty=!this.project.workflow||0===this.project.workflow.length,0===this.project.categories.length&&0===this.project.products.length)return void this.createNotificationError({message:this.$tc("easytranslate-project.detail.notification.noCategoriesAndProductsSaveError")});this.nameIsEmpty||this.workflowIsEmpty||this.sourceLanguageIsEmpty||this.targetLanguagesIsEmpty||this.createProject()}},createProject:function(){var e=this;return this.saveProject().then((function(){e.isSaveSuccessful&&e.$router.push({name:"easytranslate.project.detail",params:{id:e.project.id}})})).catch((function(t){e.createNotificationError(t)}))},saveProject:function(){var e=this;return this.projectRepository.save(this.project).then((function(){e.isSaveSuccessful=!0,e.createNotificationSuccess({message:e.$tc("global.notification.notificationSaveSuccessMessage",0,{entityName:e.project.name})}),e.loadEntityData()})).catch((function(){e.isLoading=!1,e.createNotificationError({message:e.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:e.project.name})})}))},saveFinish:function(){this.isSaveSuccessful=!1},onCancel:function(){this.$router.push({name:"easytranslate.project.index"})}}});var w=n("SaEC"),v=n("soyt"),_=n("TgdG");Shopware.Module.register("easytranslate-project",{type:"plugin",name:"easytranslate-project",title:"easytranslate-project.menu.title",description:"easytranslate-project.menu.descriptionTextModule",snippets:{"da-DK":w,"de-DE":v,"en-GB":_},routes:{index:{components:{default:"easytranslate-project-list"},path:"index",meta:{privilege:"project.viewer",appSystem:{view:"list"}}},create:{component:"easytranslate-project-detail",path:"create",meta:{privilege:"project.creator"}},detail:{component:"easytranslate-project-detail",path:"detail/:id?",meta:{privilege:"project.viewer",appSystem:{view:"detail"}},props:{default:function(e){return{projectId:e.params.id}}}}},navigation:[{id:"easytranslate-project",label:"easytranslate-project.menu.title",path:"easytranslate.project.index",parent:"sw-content",position:10}]});n("rV9D")},rV9D:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=Shopware.Classes.ApiService,u=Shopware.Application,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,n,i,c=o(u);function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"easytranslate";return a(this,u),c.call(this,e,t,n)}return t=u,(n=[{key:"testConfig",value:function(e){var t=this.getBasicHeaders({});return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/verify"),e,{headers:t}).then((function(e){return l.handleResponse(e)}))}},{key:"getWorkflowOptions",value:function(){var e=this.getBasicHeaders({});return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/workflowOptions"),{headers:e}).then((function(e){return l.handleResponse(e)}))}},{key:"sendProject",value:function(e){var t=this.getBasicHeaders({});return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/project/sendProject"),e,{headers:t}).then((function(e){return l.handleResponse(e)}))}},{key:"handlePrice",value:function(e){var t=this.getBasicHeaders({});return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/project/handlePrice"),e,{headers:t}).then((function(e){return l.handleResponse(e)}))}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(l);u.addServiceProvider("easyTranslateApiService",(function(e){var t=u.getContainer("init");return new d(t.httpClient,e.loginService)}))},soyt:function(e){e.exports=JSON.parse('{"easytraslate-api-test-button":{"title":"API Test","success":"Verbindung wurde erfolgreich getestet","error":"Verbindung konnte nicht hergestellt werden. Bitte prüfe die Zugangsdaten"},"easytranslate-project":{"workflow":{"translation":"Übersetzung","selfAndMachineTranslation":"Übersetzen Sie selbst + maschinelle Übersetzung","translationAndReview":"Übersetzung + überprüfen"},"menu":{"title":"EasyTranslate Connect","descriptionTextModule":"EasyTranslate Connect Beschreibung"},"list":{"columnName":"Name","columnTranslationPrice":"Übersetzungspreis (EUR)","columnSourceLanguage":"Ausgangssprache","columnTargetLanguages":"Zielsprache","columnStatus":"Status","textProject":"EasyTranslate-Projekte","buttonAddProject":"Projekt erstellen"},"detail":{"notification":{"noCategoriesAndProductsSaveError":"Projekt ohne Kategorien oder Produkte kann nicht gespeichert werden","saveError":"Beim Speichern des Projekts ist ein Fehler aufgetreten","noContentError":"Für die ausgewählten Kategorien und Produkte wurden keine Inhalte in der ausgewählten Ausgangssprache gefunden. Bitte stellen Sie sicher, dass weder Name, Beschreibung noch Layout leer sind oder von einer anderen Sprache erben","sendProjectError":"Beim Senden des Projekts an EasyTranslate ist ein Fehler aufgetreten","sendProjectSuccess":"Projekt erfolgreich an EasyTranslate gesendet","sendPriceError":"Beim Senden der Preisantwort an EasyTranslate ist ein Fehler aufgetreten","sendPriceSuccess":"Preisantwort erfolgreich an EasyTranslate gesendet"},"actions":{"decline":"Preis ablehnen","accept":"Preis akzeptieren","send":"Projekt an EasyTranslate senden"},"header":{"titleEdit":"Erstellen Sie ein neues EasyTranslate-Projekt"},"base":{"general":{"cardTitle":"Allgemeine Information","statusLabel":"Projekt-Status","translationPriceLabel":"Übersetzungspreis (EUR)","nameLabel":"Projektname","workflowLabel":"Workflow-Typ","workflowPlaceholder":"Wählen Sie einen Workflow-Typ aus","sourceLanguageLabel":"Ausgangssprache für die Übersetzung","targetLanguagesLabel":"Zielsprachen für die Übersetzung"},"categories":{"helpText":"Hinweis: Als Ergebnisse werden nur Kategorien angezeigt, die noch nicht mit EasyTranslated in die ausgewählten Zielsprachen übersetzt wurden","cardTitle":"Kategoriezuordnung","columnName":"Kategoriename","columnType":"Kategorietyp","columnTargetLanguages":"Bereits EasyTranslated in","categoryAssignmentLabel":"Kategorien","categoryPlaceholderLabel":"Kategorien suchen und zuweisen"},"products":{"helpText":"Hinweis: Als Ergebnisse werden nur Produkte angezeigt, die die gewählte Ausgangssprache verwenden und noch nicht von EasyTranslated in die gewählte Zielsprache übersetzt wurden","cardTitle":"Produktzuordnung","columnName":"Produktname","columnProductNumber":"Produktnummer","columnPrice":"Produktpreis","columnTargetLanguages":"Bereits EasyTranslated in","productAssignmentLabel":"Produkte","productPlaceholderLabel":"Produkte suchen und zuordnen"}}}}}')},xvDb:function(e,t){Shopware.Component.override("sw-many-to-many-assignment-card",{methods:{onItemSelect:function(e){var t=this;if(!this.isSelected(e))return this.localMode?(this.gridData||(this.gridData=EntityCollection.fromCollection(this.entityCollection)),this.gridData.push(e),this.selectedIds=this.gridData.getIds(),void this.$emit("change",this.gridData)):void this.assignmentRepository.assign(e.id,this.context).then((function(){t.selectedIds.push(e.id)}));this.removeItem(e)},removeItem:function(e){var t=this;if(this.localMode){var n=this.gridData.filter((function(t){return t.id!==e.id}));return this.selectedIds=n.getIds(),this.gridData=n,this.$emit("change",n),Promise.resolve()}return this.assignmentRepository.delete(e.id,this.context).then((function(){t.selectedIds=t.selectedIds.filter((function(t){return t!==e.id}))}))}}})}});